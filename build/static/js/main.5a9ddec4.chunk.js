(this["webpackJsonpred-onion-restaurant"]=this["webpackJsonpred-onion-restaurant"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(24),l=a.n(r),o=(a(61),a(62),a(5)),s=(a(63),a(6)),i=a(20),m=a(25),u=a(8),d=a.n(u),p=a(16),f=a(11),b=a(22),E=(a(101),a(65),{apiKey:"AIzaSyB7N1R-KkSKwP3jzEWwCItYB9iivNaQXtE",authDomain:"red-onion-restaurant-b6443.firebaseapp.com",projectId:"red-onion-restaurant-b6443",storageBucket:"red-onion-restaurant-b6443.appspot.com",messagingSenderId:"68968941612",appId:"1:68968941612:web:2b7c0a37634194fa406989"}),h=a(9),v=a.n(h);b.a.initializeApp(E);var g,N=g=Object(n.createContext)(),j=N.Provider,O=(N.Consumer,function(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)([]),u=Object(o.a)(s,2),E=u[0],h=u[1],g=Object(n.useState)(""),N=Object(o.a)(g,2),O=N[0],y=N[1],w=function(){var e=Object(f.a)(d.a.mark((function e(t,a){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("hello"),e.prev=1,e.next=4,b.a.auth().signInWithEmailAndPassword(t,a);case 4:return n=e.sent,e.next=7,v.a.get("http://localhost:8000/api/v1/users/email/".concat(t));case 7:return c=e.sent,l(Object(p.a)({},c.data.data.user)),e.abrupt("return",n);case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(f.a)(d.a.mark((function e(t,a,n){var c,r,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.auth().createUserWithEmailAndPassword(t,a);case 3:return o=e.sent,e.next=6,v.a.post("http://localhost:8000/api/v1/users",{email:t,displayName:n});case 6:return s=e.sent,l(null===s||void 0===s||null===(c=s.data)||void 0===c||null===(r=c.data)||void 0===r?void 0:r.user),e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a,n){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b.a.auth().onAuthStateChanged((function(e){if(e){function t(){return(t=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("http://localhost:8000/api/v1/users/email/".concat(t));case 2:a=e.sent,l(Object(p.a)({},a.data.data.user));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){t.apply(this,arguments)}(e.email)}}))}),[]);Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=11;break}return e.prev=1,e.next=4,v.a.get("http://localhost:8000/api/v1/carts/".concat(r._id));case 4:(t=e.sent).data.data.cart.length>0?h(t.data.data.cart[0].carts):h(t.data.data.cart),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("carts item from auth ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]);var k=new b.a.auth.GoogleAuthProvider;k.setCustomParameters({login_hint:"your@gmail.com"});var S=Object(i.g)(),C=function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.auth().signInWithPopup(k);case 3:return a=e.sent,l({email:a.user.email,displayName:a.user.displayName}),S.replace(t),e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(j,{value:{user:r,registerUserWithEmailPassword:x,login:w,logout:function(){b.a.auth().signOut().then((function(){l(null),h([])})).catch((function(e){console.log(e)}))},cart:E,addToCart:function(e){var t=E.find((function(t){return t._id===e._id}));if(t){t.quantity=t.quantity+e.quantity,t.proTotalPrice=t.price*e.quantity;var a=E.indexOf(t.id);E[a]=t;var n=Object(m.a)(E);h(n)}else{e.proTotalPrice=e.quantity*e.price;var c=[].concat(Object(m.a)(E),[e]);h(c)}},checkOutOrder:function(){h([])},calculateQuantity:function(e,t){var a=E.find((function(t){return t.productId===e.productId}));if(a.quantity=a.quantity+t,a.proTotalPrice=a.price*a.quantity,0===a.quantity){var n=E.filter((function(e){return e.productId!==a.productId}));v.a.delete("http://localhost:8000/api/v1/carts/".concat(e._id,"?user=").concat(r._id)),h(n)}else{v.a.put("http://localhost:8000/api/v1/carts/".concat(e._id),{quantity:a.quantity,user:r._id});var c=E.indexOf(a.id);E[c]=a;var l=Object(m.a)(E);h(l)}},setUser:l,addCatDatabase:function(e,t,a){var n={carts:[{productId:e._id,title:e.title,subtitle:e.subtitle,description:e.subtitle,img:e.img,catagories:e.catagories,price:e.price,quantity:t,proTotalPrice:t*e.price}],user:a._id};v.a.post("http://localhost:8000/api/v1/carts",n)},setCart:h,search:O,setSearch:y,signInWithGoogle:C}},e.children)}),y=function(e){var t=e.route,a=e.name,r=Object(n.useContext)(g).logout;return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.b,{to:"/user/profile"},c.a.createElement("button",{className:"btn signup-btn primary-btn"},a||"Profile")),c.a.createElement("button",{className:"btn",onClick:function(){r(),t.history.push("/login")}},"Logout"))},w=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.b,{to:"/signup"},c.a.createElement("button",{className:"btn signup-btn primary-btn"},"Sign up")),c.a.createElement(s.b,{to:"/login"},c.a.createElement("button",{className:"btn"},"Login")))},x=Object(i.j)((function(e){var t=Object(n.useContext)(g),a=t.user,r=t.cart,l=Object(n.useState)(""),i=Object(o.a)(l,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){r.length>0?u(r.length):u("")}),[r]),c.a.createElement("header",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row d-flex align-items-center justify-content-between"},c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"logo-aria"},c.a.createElement(s.b,{to:"/"},c.a.createElement("img",{src:"https://i.ibb.co/Snjf3fp/logo2.png",alt:"hot onion"})))),c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"header-right"},c.a.createElement("div",{className:"d-flex"},a?c.a.createElement(y,{route:e,name:a.displayName}):c.a.createElement(w,null),c.a.createElement(s.b,{to:"/cart"},c.a.createElement("button",{className:"btn"},c.a.createElement("i",{className:"fa fa-cart-plus","aria-hidden":"true"})," ",c.a.createElement("span",{style:{color:"red"}}," ",r&&m)))))))))})),k=(a(87),function(){var e=Object(n.useContext)(g),t=e.search,a=e.setSearch;return c.a.createElement("section",{className:"banner-aria"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col text-center banner-content"},c.a.createElement("h2",null,"Best food waiting for your belly"),c.a.createElement("div",{className:"banner-input"},c.a.createElement("input",{type:"text",value:t,onChange:function(e){return a(e.target.value.trim())},placeholder:"Search food items"}),c.a.createElement("button",{className:"btn primary-btn"},"Search"))))))}),S=(a(88),Object(i.j)((function(e){var t=e.item,a=t.title,n=t.img,r=t.subtitle,l=t.price,o=t._id;return c.a.createElement("div",{className:"col-xl-4",onClick:function(){return e.history.push("/foods/".concat(o))}},c.a.createElement("div",{className:"single-item text-center m-4"},c.a.createElement("div",{className:"card p-4"},c.a.createElement("img",{className:"card-img-top",src:n,alt:""}),c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-title"},a),c.a.createElement("p",{className:"card-text"},r),c.a.createElement("h4",{className:"price"},"$",l)))))}))),C=Object(i.j)((function(e){var t=Object(n.useContext)(g),a=t.cart,r=t.search,l=Object(n.useState)(!0),s=Object(o.a)(l,2),i=s[0],u=s[1],p=Object(n.useState)([]),b=Object(o.a)(p,2),E=b[0],h=b[1],N=Object(n.useState)("lunch"),j=Object(o.a)(N,2),O=j[0],y=j[1],w=Object(n.useState)([]),x=Object(o.a)(w,2),k=x[0],C=x[1];Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("http://localhost:8000/api/v1/foods");case 3:t=e.sent,h(t.data.data.foods),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){a.length>0&&u(!1)}),[a]),Object(n.useEffect)((function(){if(r.trim().length>0){var e=E.filter((function(e){return e.title.toLowerCase().includes(r)}));C(Object(m.a)(e))}else{var t=E.filter((function(e){return e.catagories===O}));C(t)}}),[E,r]),Object(n.useEffect)((function(){var e=E.filter((function(e){return e.catagories===O}));C(e)}),[O,E]);var P=c.a.createElement("div",{className:"text-center m-auto pt-3"},c.a.createElement("h2",null,"No food item found!"),c.a.createElement("p",null,"search like: French "));return c.a.createElement("section",{className:"".concat(r.trim()?"food-catagories-aria search":"food-catagories-aria")},c.a.createElement("div",{className:"container"},!r.trim()&&c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"catagories m-auto py-5"},c.a.createElement("ul",{className:"d-flex "},c.a.createElement("li",null,c.a.createElement("button",{className:"breakfast"===O?"active btn":"btn",onClick:function(){return y("breakfast")}},"Breakfast")),c.a.createElement("li",null,c.a.createElement("button",{className:"lunch"===O?"active btn":"btn",onClick:function(){return y("lunch")}},"Lunch")),c.a.createElement("li",null,c.a.createElement("button",{className:"dinner"===O?"active btn":"btn",onClick:function(){return y("dinner")}},"Dinner")))),c.a.createElement("div",{className:"f-right d-flex align-items-center text-danger"},c.a.createElement("p",{className:"see-all",onClick:function(){return e.history.push("/foods")}},"See All"))),c.a.createElement("div",{className:"row food-items"},r.trim()&&0===k.length?P:k.map((function(e){return c.a.createElement(S,{key:e._id,item:e})})),c.a.createElement("div",{className:"w-100"}),c.a.createElement("div",{className:"checkout-btn-aria m-auto"},c.a.createElement("button",{onClick:function(){return e.history.push("/cart")},className:i?"btn disabled my-4 text-center text-capitalize":"btn checkout-btn  my-4 text-center text-capitalize",disabled:i},"Checkout your food")))))})),P=[{title:"Fast Delivery",description:"Keep your system om sync with automated web hook based notification each time link is paid and how we dream about our future",img:"https://i.ibb.co/1MjJtHP/adult-blur-blurred-background-687824.png",id:2001,icon:"https://i.ibb.co/m6TDjxS/g1.png"},{title:"A Good Auto Responder",description:"Keep your system om sync with automated web hook based notification each time link is paid and how we dream about our future",img:"https://i.ibb.co/3sFqDc1/chef-cook-food-33614.png",id:2002,icon:"https://i.ibb.co/Lh9MFpK/g3.png"},{title:"Home Delivery",description:"Keep your system om sync with automated web hook based notification each time link is paid and how we dream about our future",img:"https://i.ibb.co/pj7ps21/architecture-building-city-2047397.png",icon:"https://i.ibb.co/C2DG0ZV/g2.png",id:2003}],I=function(e){var t=e.item,a=t.title,n=t.description,r=t.img,l=t.icon;return c.a.createElement("div",{className:"col-xl-4"},c.a.createElement("div",{className:"single-item pb-3"},c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card-img-top",src:r,alt:""}),c.a.createElement("div",{className:"card-body choose-aria-content d-flex"},c.a.createElement("div",{className:"choose-aria-icon"},c.a.createElement("img",{src:l,alt:""})),c.a.createElement("div",null,c.a.createElement("h5",{className:"card-title"},a),c.a.createElement("p",{className:"card-text"},n),c.a.createElement("h6",null,"See more ",c.a.createElement("i",{className:"fas fa-arrow-right"})," "))))))},_=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){r(P)}),[]),c.a.createElement("section",{className:"why-choose-us py-5"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"section-title w-50 pb-4"},c.a.createElement("h2",null,"Why you choose us"),c.a.createElement("p",{className:"pr-5"},"Barton waited twenty always repair in within we do. An delighted offering crusty mu is dagwood's at. Boy prosperous increasing surround ")),c.a.createElement("div",{className:"row"},a.map((function(e){return c.a.createElement(I,{key:e.id,item:e})})))))},q=(a(89),function(){return c.a.createElement("section",{className:"footer-top-area py-5"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xl-6"},c.a.createElement("div",{className:"img-area"},c.a.createElement("img",{src:"https://i.ibb.co/7V4xYJr/logo.png",alt:""}))),c.a.createElement("div",{className:"col-xl-6 d-flex footer-top-menu-aria"},c.a.createElement("div",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(s.b,{to:"/"},"About Online food")),c.a.createElement("li",null,c.a.createElement(s.b,{to:"/"},"Read Our Blog")),c.a.createElement("li",null,c.a.createElement(s.b,{to:"/"},"Sign up to deliver")),c.a.createElement("li",null,c.a.createElement(s.b,{to:"/"},"Add your restaurant")))),c.a.createElement("div",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(s.b,{to:"/"},"Get help")),c.a.createElement("li",null,c.a.createElement(s.b,{to:"/"},"Red FAQs")),c.a.createElement("li",null,c.a.createElement(s.b,{to:"/"},"View all cities")),c.a.createElement("li",null,c.a.createElement(s.b,{to:"/"},"Restaurant near me"))))))))}),A=(a(90),function(){return c.a.createElement("footer",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row d-flex align-items-center justify-content-between"},c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"copyright"},c.a.createElement("p",{className:"pt-3"},"Copyright \xa9 online food "))),c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"footer-menu"},c.a.createElement("ul",{className:"d-flex"},c.a.createElement("li",null,c.a.createElement(s.b,{to:"/"},"Privacy Policy")),c.a.createElement("li",null,c.a.createElement(s.b,{to:"/"},"Terms of use")),c.a.createElement("li",null,c.a.createElement(s.b,{to:"/"},"Pricing"))))))))}),D=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(k,null),c.a.createElement(C,null),c.a.createElement(_,null),c.a.createElement(q,null),c.a.createElement(A,null))},H=a(21),T=a(31),F=(a(91),function(e){var t=e.onchangeHandler,a=Object(T.a)(e,["onchangeHandler"]);return c.a.createElement("div",{className:"form-group"},c.a.createElement("input",Object.assign({},a,{onChange:t,className:"form-control"})))}),B=(a(92),a(93),function(){return c.a.createElement("div",{id:"main_loading"},c.a.createElement("div",{className:"loading"},c.a.createElement("div",{className:"circle"}),c.a.createElement("div",{className:"circle"}),c.a.createElement("div",{className:"circle"})))}),W=function(){var e=Object(i.g)(),t=(Object(i.h)().state||{from:{pathname:"/"}}).from;console.log(t);var a=Object(n.useContext)(g),r=Object(n.useState)({name:"",email:"",password:"",confirmPassword:""}),l=Object(o.a)(r,2),m=l[0],u=l[1],b=Object(n.useState)(!1),E=Object(o.a)(b,2),h=E[0],v=E[1],N=function(e){var t=e.target,a=t.name,n=t.value;u(Object(p.a)({},m,Object(H.a)({},a,n)))},j=function(){var n=Object(f.a)(d.a.mark((function n(c){var r,l,o,s;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.preventDefault(),r=m.name,l=m.email,o=m.password,s=m.confirmPassword,o!==s){n.next=9;break}return v(!0),n.next=6,a.registerUserWithEmailPassword(l,o,r);case 6:e.push(t),n.next=10;break;case 9:alert("Password mismatch");case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return h?c.a.createElement(B,null):a.user&&!h?Object(i.a)("/"):c.a.createElement("section",{className:"sign-up",id:"sign-up-aria-bg"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 col-md-offset-3 m-auto"},c.a.createElement("div",{className:"sign-up-aria-logo py-5 m-auto"},c.a.createElement("img",{className:"w-50 d-block m-auto",src:"https://i.ibb.co/Snjf3fp/logo2.png",alt:""})),c.a.createElement("form",{onSubmit:j,autoComplete:"off"},c.a.createElement(F,{autoFocus:!0,name:"name",type:"text",required:!0,placeholder:"Name",onchangeHandler:N,value:m.name}),c.a.createElement(F,{name:"email",type:"email",required:!0,placeholder:"Email",onchangeHandler:N,value:m.email}),c.a.createElement(F,{name:"password",type:"password",required:!0,placeholder:"Password",onchangeHandler:N,value:m.password}),c.a.createElement(F,{name:"confirmPassword",type:"password",required:!0,placeholder:"Confirm Password",onchangeHandler:N,value:m.confirmPassword}),c.a.createElement("button",{type:"submit",className:"btn sign-up-btn w-100"},"Submit")),c.a.createElement("p",{className:"text-center py-2 has-account"},c.a.createElement(s.b,{to:"/login"},"Already have an account"))))))},R=(a(94),function(){}),G=Object(i.j)((function(e){var t=Object(i.g)(),a=(Object(i.h)().state||{from:{pathname:"/"}}).from,r=Object(n.useContext)(g),l=Object(n.useState)({email:"example@gmail.com",password:"123456"}),m=Object(o.a)(l,2),u=m[0],d=m[1],f=Object(n.useState)({}),b=Object(o.a)(f,2),E=b[0],h=b[1],v=Object(n.useState)(!1),N=Object(o.a)(v,2),j=N[0],O=N[1],y=function(e){var t=e.target,a=t.name,n=t.value;d(Object(p.a)({},u,Object(H.a)({},a,n)))};return r.user?Object(i.a)("/"):j?c.a.createElement(B,null):c.a.createElement("section",{className:"login"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 col-md-offset-3 m-auto"},c.a.createElement("div",{className:"login-aria-logo py-5 m-auto"},c.a.createElement("img",{className:"w-50 d-block m-auto",src:"https://i.ibb.co/Snjf3fp/logo2.png",alt:""})),c.a.createElement("form",{onSubmit:function(e){O(!0),e.preventDefault(),r.login(u.email,u.password).then((function(e){e.user?t.replace(a):(O(!1),h(e))}))}},c.a.createElement(F,{name:"email",autoFocus:!0,required:!0,type:"email",onchangeHandler:y,placeholder:"Email"}),c.a.createElement(F,{name:"password",required:!0,type:"password",onchangeHandler:y,placeholder:"Password"}),c.a.createElement("button",{type:"submit",className:"btn login-btn w-100"},"Log In")),E.message&&c.a.createElement("p",{className:"py-2"},E.message),c.a.createElement("p",{className:"text-center py-2 no-account"},"Don't have an account?",c.a.createElement(s.b,{to:{pathname:"/signup",state:{from:a.pathname}}}," Sign up")),c.a.createElement("div",{className:"w-100 mt-5"},c.a.createElement(R,null))))))})),K=(a(95),a(96),function(e){var t=e.item,a=(e.onchangeHandler,e.payMendInfo);console.log(a);var r=Object(n.useContext)(g).calculateQuantity,l=t.img,o=t.title,s=t.proTotalPrice,i=t.quantity,m=o.slice(0,5);return c.a.createElement("div",{className:"order-item-aria my-3"},c.a.createElement("div",{className:"single-order d-flex align-items-center"},c.a.createElement("div",{className:"img-aria w-25 px-2"},c.a.createElement("img",{src:l,className:"img",alt:""})),c.a.createElement("div",{className:"price-aria text-center w-25"},c.a.createElement("h6",null,m),c.a.createElement("h6",null,s.toFixed(2))),c.a.createElement("div",{className:"quantity-aria w-50"},c.a.createElement("div",{className:"input-group"},c.a.createElement("button",{disabled:a,onClick:function(){return r(t,-1)},className:"btn btn-default"},c.a.createElement("i",{className:"fas fa-minus"})),c.a.createElement("h6",{className:"text-center"}," ",i," "),c.a.createElement("button",{disabled:a,onClick:function(){return r(t,1)},className:"btn btn-default"},c.a.createElement("i",{className:"fas fa-plus"}))))))}),z=a(50),L=a(51),$=a(54),U=a(55),M=a(52),Y=a.n(M),J=function(e){Object(U.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(z.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onToken=function(t){alert("Successfully Payment");var a={card:t.card.id,email:t.email};e.props.handlePayInfo(a),console.log(a)},e}return Object(L.a)(a,[{key:"render",value:function(){return c.a.createElement(Y.a,Object.assign({},this.props,{SameSite:!0,stripeKey:"pk_test_Oo2HHpANmwwZboKUf7S5z9Gf00i0PqRRBD",token:this.onToken}))}}]),a}(c.a.Component),Q=Object(i.j)((function(e){var t=Object(n.useContext)(g),a=t.cart,r=t.checkOutOrder,l=t.user,i=t.setCart,m=Object(n.useState)(!1),u=Object(o.a)(m,2),b=u[0],E=u[1],h=Object(n.useState)(!1),N=Object(o.a)(h,2),j=N[0],O=N[1],y=Object(n.useState)({address:"",homeNo:"",flatNo:"",name:"",instruction:""}),w=Object(o.a)(y,2),x=w[0],k=w[1],S=Object(n.useState)(2),C=Object(o.a)(S,1)[0],P=Object(n.useState)(5),I=Object(o.a)(P,1)[0],_=Object(n.useState)(5),q=Object(o.a)(_,2),A=q[0],D=q[1],T=Object(n.useState)(null),W=Object(o.a)(T,2),R=W[0],G=W[1],z=Object(n.useState)(!0),L=Object(o.a)(z,2),$=L[0],U=L[1],M=Object(n.useState)(!1),Y=Object(o.a)(M,2),Q=Y[0],V=Y[1];Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=14;break}return E(!0),e.prev=2,e.next=5,v.a.get("http://localhost:8000/api/v1/carts/".concat(l._id));case 5:t=e.sent,E(!1),t.data.data.cart.length>0?i(t.data.data.cart[0].carts):i(t.data.data.cart),E(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),E(!1);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,l]),Object(n.useEffect)((function(){R&&(U(!1),V(!0))}),[R]);Object(n.useEffect)((function(){var e=a.reduce((function(e,t){return e+t.proTotalPrice}),0);D(e)}),[a]);var Z=Object(n.useState)(!1),X=Object(o.a)(Z,2),ee=X[0],te=X[1];Object(n.useEffect)((function(){x.name&&x.homeNo&&x.flatNo&&x.instruction&&x.address&&j?te(!1):te(!0)}),[x,j]);var ae=function(e){var t=e.target,a=t.name,n=t.value;k(Object(p.a)({},x,Object(H.a)({},a,n)))};Object(n.useEffect)((function(){k((function(e){return Object(p.a)({},e,{name:l.displayName})}))}),[l]);var ne=function(){var t=Object(f.a)(d.a.mark((function t(){var n,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E(!0),t.prev=1,n=a.map((function(e){return e._id})),t.next=5,v.a.put("http://localhost:8000/api/v1/carts/deletes/".concat(l._id),n);case 5:return c=Object(p.a)({},x,{cart:a,user:l._id,subTotal:A,payInfo:R}),t.next=8,v.a.post("http://localhost:8000/api/v1/orders",c);case 8:o=t.sent,E(!1),e.history.push("/checkout?orderId=".concat(o.data.data.order._id)),r(),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),E(!1),alert("Please place order again!");case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(){return t.apply(this,arguments)}}();return b?c.a.createElement(B,null):0===a.length?c.a.createElement("div",{className:"container pt-5 mt-5 text-center"},c.a.createElement("h1",{className:"text-center"},"You have no item"),c.a.createElement(s.b,{to:"/foods",className:"text-danger"},"See our foods.")):c.a.createElement("div",{className:"container pt-5 mt-5"},c.a.createElement("div",{className:"row d-flex justify-content-between"},c.a.createElement("div",{className:"col-md-5"},c.a.createElement("div",{className:"delivery-details"},c.a.createElement("h3",null,"Edit Delivery Details ")),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O(!0)}},c.a.createElement(F,{name:"address",type:"text",placeholder:"Deliver to door",onchangeHandler:ae,value:x.address}),c.a.createElement(F,{name:"homeNo",type:"text",placeholder:"107 RD No 12",onchangeHandler:ae,value:x.homeNo}),c.a.createElement(F,{name:"flatNo",type:"text",placeholder:"Flat, suite or flor",onchangeHandler:ae,value:x.flatNo}),c.a.createElement(F,{name:"name",type:"text",placeholder:"Business Name ",onchangeHandler:ae,value:x.name}),c.a.createElement("div",{className:"form-group"},c.a.createElement("textarea",{className:"form-control",onChange:ae,value:x.instruction,name:"instruction",placeholder:"Add Delivery Instruction ",rows:"3"})),c.a.createElement("button",{type:"submit",className:"btn sign-up-btn w-100"},"Save and Continue")),c.a.createElement("div",{className:"m-4"},c.a.createElement(J,{disabled:ee,handlePayInfo:function(e){G(e)}}))),c.a.createElement("div",{className:"col-md-5 f-right"},c.a.createElement("div",{className:"final-order-aria"},c.a.createElement("h5",{className:"resturant-name"},"From ",c.a.createElement("span",null,"Gulshan Plazza GPR")," "),c.a.createElement("h6",null,"Arriving in 20-30 minutes"),c.a.createElement("div",{className:"orders-items-aria"},a.map((function(e){return c.a.createElement(K,{item:e,key:e._id,payMendInfo:Q})}))),c.a.createElement("div",{className:"order-price-aira"},c.a.createElement("div",{className:"cart-item"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8"},c.a.createElement("h5",null,"Subtotal: "),c.a.createElement("h5",null,"Tax:"),c.a.createElement("h5",null,"Deliver fee:"),c.a.createElement("h5",null,"Total:")),c.a.createElement("div",{className:"col-md-4 status"},c.a.createElement("h5",null,"$ ",c.a.createElement("span",{id:"sub-total-price"},A.toFixed(2))," "),c.a.createElement("h5",null,"$ ",c.a.createElement("span",null," ",I,".00")," "),c.a.createElement("h5",null,"$ ",c.a.createElement("span",null,C,".00")," "),c.a.createElement("h5",null,"$ ",c.a.createElement("span",{id:"total-price"},(A+I+C).toFixed(2))," "))),c.a.createElement("button",{type:"submit",disabled:$,className:$?"btn place-order-btn-disable":"btn sign-up-btn w-100",onClick:ne},"Place Order")))))))})),V=(a(97),function(){return c.a.createElement("div",{className:"container  not-found-aria"},c.a.createElement("div",{className:"row "},c.a.createElement("div",{className:"col not-found-content text-center"},c.a.createElement("h1",null,"404"),c.a.createElement("h3",null,"Something went wrong"),c.a.createElement("p",null,"We're deeply sorry, but something went wrong. Please try to refresh the page or"),c.a.createElement(s.b,{to:"/"},"start over."))))}),Z=(a(98),a(32)),X=(a(99),function(e){var t=Object(n.useContext)(g),a=t.addToCart,r=t.user,l=t.addCatDatabase,m=Object(i.i)(),u=Object(n.useState)(1),b=Object(o.a)(u,2),E=b[0],h=b[1],N=Object(n.useState)(null),j=Object(o.a)(N,2),O=j[0],y=j[1],w=Object(n.useState)(!1),x=Object(o.a)(w,2),k=x[0],S=x[1];Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,v.a.get("http://localhost:8000/api/v1/foods/".concat(m.id));case 4:t=e.sent,y(t.data.data.food),S(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),S(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m]);var C=Object(i.h)(),P=function(t){r?(Object(Z.a)("Item added Cart!"),a(Object(p.a)({},t,{quantity:E})),l(t,E,r)):e.history.push({pathname:"/login",state:{from:C.pathname}})};return k?c.a.createElement(B,null):c.a.createElement(c.a.Fragment,null,O?c.a.createElement("section",{className:"food-details pt-1"},c.a.createElement("div",{className:"container shadow"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"item-close py-4 "},c.a.createElement("span",{className:"bg-danger rounded-circle d-block  m-auto",style:{height:50,width:50,lineHeight:"50px"},onClick:function(){return e.history.push("/")}},c.a.createElement("i",{className:"fas fa-times",style:{lineHeight:"25px"}})))),c.a.createElement("div",{className:"w-100"}),c.a.createElement("div",{className:"col-md-6 py-5"},c.a.createElement("div",{className:"food-details-content"},c.a.createElement("h3",null,O&&O.title),c.a.createElement("p",{className:"subtitle muted pt-3"},O&&O.description),c.a.createElement("div",{className:"cart-item d-flex align-items-center p-3"},c.a.createElement("h3",null,"$",O&&O.price),c.a.createElement("div",{className:"input-group input-cart-item ml-4"},c.a.createElement("button",{className:"btn btn-default",onClick:function(){return e=1,void h(E<0||0===E?0:E-e);var e},id:"remove-product"},c.a.createElement("i",{className:"fas fa-minus"})),c.a.createElement("input",{type:"text",id:"food-quantity",onChange:function(e){isNaN(e.target.value)||h(e.target.value)},className:"form-control text-center",value:E}),c.a.createElement("button",{onClick:function(){return h(1*E+1)},className:"btn btn-default",id:"add-product"},c.a.createElement("i",{className:"fas fa-plus"})))),c.a.createElement("button",{className:"btn primary-btn btn-cart",onClick:function(){return P(O)}},c.a.createElement("span",null,c.a.createElement("i",{className:"fa fa-cart-arrow-down","aria-hidden":"true"}))," Add"))),c.a.createElement("div",{className:"col-md-6 m-auto d-block"},c.a.createElement("img",{src:O&&O.img,className:"food-img m-auto d-block",alt:""}))))):c.a.createElement("div",{className:"container  not-found-aria"},c.a.createElement("div",{className:"row "},c.a.createElement("div",{className:"col not-found-content text-center"},c.a.createElement("h1",null,"Invalid Product data"),c.a.createElement("h3",null,"Something went wrong"),c.a.createElement("p",null,"We're deeply sorry, there are no product about this data"),c.a.createElement(s.b,{to:"/foods"},"See our foods.")))))}),ee=a(53),te=a.n(ee),ae=function(e){var t=e.item,a=e.date;return c.a.createElement("div",{className:"col-md-6 m-auto"},c.a.createElement("div",{className:"card text-center shadow p-4 m-4"},c.a.createElement("p",{className:"text-center d-block m-auto orderID py-2"},"order id: #",t.carts[0]._id," "),c.a.createElement(te.a,{date:a}),c.a.createElement("img",{className:"card-img-top w-25 d-block m-auto",src:t.carts[0].img,alt:"Card images cap"}),c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-title"},t.carts[0].title),c.a.createElement("div",{className:"card-text"}," ",c.a.createElement("strong",null,c.a.createElement("h6",null,"Subtotal ",c.a.createElement("span",null,t.subTotal.toFixed(2))," "))))))},ne=function(){var e=Object(n.useContext)(g).user,t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(o.a)(s,2),m=i[0],u=i[1],p=Object(n.useState)(!1),b=Object(o.a)(p,2),E=b[0],h=b[1];return Object(n.useEffect)((function(){function t(){return(t=Object(f.a)(d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.prev=1,t.next=4,v.a.get("http://localhost:8000/api/v1/orders/".concat(e._id));case 4:a=t.sent,n=a.data.data.order.map((function(e){return{carts:e.cart,subTotal:e.subTotal,createdAt:e.createdAt}})),l(n),n.length>0&&h(!0),u(!1),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.error(t.t0),u(!1);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),c.a.createElement(c.a.Fragment,null,m?c.a.createElement(B,null):c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"card border-primary m-auto d-block"},c.a.createElement("img",{className:"card-img-top w-25 d-block m-auto",src:"https://www.kindpng.com/picc/m/78-786207_user-avatar-png-user-avatar-icon-png-transparent.png",alt:""}),c.a.createElement("div",{className:"card-body"},c.a.createElement("h4",{className:"card-title text-center"},e&&e.displayName),c.a.createElement("p",{className:"card-text text-center"},e&&e.email))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col m-4"},E?c.a.createElement("h2",{className:"text-center m-auto"},"Previous Order"):c.a.createElement("h2",{className:"text-center m-auto"},"You have no orders")),c.a.createElement("div",{className:"w-100"}),r&&r.map((function(e){return c.a.createElement(ae,{key:e.createdAt,date:e.createdAt,item:e})})))))},ce=function(e){var t=e.children,a=Object(T.a)(e,["children"]),r=Object(n.useContext)(g);return c.a.createElement(i.b,Object.assign({},a,{render:function(e){var a=e.location;return r.user?t:c.a.createElement(i.a,{to:{pathname:"/login",state:{from:a}}})}}))};var re=Object(i.j)((function(e){var t=new URLSearchParams(Object(i.h)().search);return c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"text-center"},"Thanks for you order!"),c.a.createElement("p",{className:"text-center d-block m-auto orderID"},"Your order id: #",t.get("orderId")," "),c.a.createElement("img",{src:"https://i.ibb.co/NytGHH3/8-ordercomplete.png",className:"w-100",alt:"8-ordercomplete",border:"0"}))})),le=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],l=c.a.useState(!1),s=Object(o.a)(l,2),i=s[0],m=s[1];return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,v.a.get("http://localhost:8000/api/v1/foods");case 4:t=e.sent,console.log(t.data.data.foods),r(t.data.data.foods),m(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),m(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),i?c.a.createElement(B,null):c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row food-items"},a.map((function(e){return c.a.createElement(S,{key:e._id,item:e})}))))};Z.a.configure({autoClose:1e3,draggable:!1});var oe=function(){return c.a.createElement(O,null,c.a.createElement(x,null),c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"/",component:D}),c.a.createElement(i.b,{path:"/signup",component:W}),c.a.createElement(i.b,{path:"/login",component:G}),c.a.createElement(ce,{path:"/cart"},c.a.createElement(Q,null)),c.a.createElement(ce,{path:"/checkout"},c.a.createElement(re,null)),c.a.createElement(i.b,{exact:!0,path:"/foods/",component:le}),c.a.createElement(i.b,{path:"/foods/:id",component:X}),c.a.createElement(ce,{path:"/user/profile"},c.a.createElement(ne,null)),c.a.createElement(i.b,{path:"*",component:V})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s.a,null,c.a.createElement(oe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,t,a){e.exports=a(100)},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){}},[[56,1,2]]]);
//# sourceMappingURL=main.5a9ddec4.chunk.js.map